<div class="aldrich-works position-relative my-5">
  <div class="container">
    <h3 class="font-weight-bold text-center aldrich-title">{{ section.settings.aldrich_works_title }}</h3>
    <div class="aldrich-content">
      {% for block in section.blocks %}
      <div class="aldrich-card m-2">
        <div class="prd-cards text-center">
          {% if block.settings.aldrich_img != blank %}
            {%- assign width = block.settings.aldrich_img.width -%}
            {%- assign height = block.settings.aldrich_img.height -%}
            {%- assign alt = 'Image-' | append: forloop.index -%}
            {{ block.settings.aldrich_img | image_url: width: 400 | image_tag: width: width, height: height, alt: alt, title: alt, loading: 'lazy', class: '' }}
            <h4 class="font-weight-bold">{{ block.settings.aldrich_txt }}</h4>
            <p>{{ block.settings.aldrich_sub_txt }}</p>
          {% endif %}
        </div>
        <div class="icon-cards">
          <div class="first-card d-flex align-items-center">
            <p class="icon">{{ block.settings.aldrich_first_icon }}</p>
            <p class="icon-txt">{{ block.settings.aldrich_first_text }}</p>
          </div>
          <div class="second-card d-flex align-items-center">
            <p class="icon">{{ block.settings.aldrich_second_icon }}</p>
            <p class="icon-txt">{{ block.settings.aldrich_second_text }}</p>
          </div>
          <div class="third-card d-flex align-items-center">
            <p class="icon">{{ block.settings.aldrich_third_icon }}</p>
            <p class="icon-txt">{{ block.settings.aldrich_third_text }}</p>
          </div>
          <div class="fourth-card d-flex align-items-center">
            <p class="icon">{{ block.settings.aldrich_fourth_icon }}</p>
            <p class="icon-txt">{{ block.settings.aldrich_fourth_text }}</p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    
    <div class="slider-info font-weight-bold text-center" style="font-size: 16px; color: #C4695B;">
      <span class="current-slide">1</span>/<span class="total-slides"></span>
    </div>
  </div>
</div>

{% style %}
  .aldrich-works {background: #FAFAFA;}
  .aldrich-title {font-size: 48px; line-height: 65px; letter-spacing: 0em;}
  .aldrich-card {display: grid !important; grid-template-columns: repeat(2,1fr); box-shadow: 2.5420451164245605px 2.9051942825317383px 4.720940589904785px 0px #00000040; border-radius: 21px;}
  .prd-cards {background: #FFF5F6; border-top-left-radius: 21px; border-bottom-left-radius: 21px; padding: 40px 0;}
  .prd-cards img {margin: auto;}
  .icon-cards {background: #FFF; border-top-right-radius: 21px; border-bottom-right-radius: 21px; padding: 40px 20px;}
  .prd-cards h4 {font-size: 34px; line-height: 30px; letter-spacing: 0em; margin-top: 20px;}
  .prd-cards p {font-size: 20px; line-height: 27px; color: #3F3F3F;}
  .first-card, .second-card, .third-card, .fourth-card {gap: 20px;}
  .icon {border: 1.5px solid #FFEEEC; box-shadow: 0px 1.690000057220459px 1.690000057220459px 0px #00000040; border-radius: 50px; padding: 15px; height: 80px; width: 80px; margin-bottom: 20px;}
  .icon svg {height: 50px; width: 50px;}   
  .icon-txt {font-size: 20px; line-height: 24px;}
  .slider-info {position: absolute; bottom: -5%; left: 50%; transform: translate(-50%);}
  .aldrich-content .slick-dots {position: absolute; left: 50%; bottom: -22%; transform: translate(-50%);}
  .aldrich-content .slick-dots li {width: 10px;}
  .aldrich-content .slick-dots li.slick-active button:before {color: #C4695B; font-size: 40px;}
  .aldrich-content .slick-dots li a:before, .slick-dots li button:before {font-size: 30px;}
  .aldrich-content:not(.slick-initialized) > .aldrich-card:first-of-type ~ * {display: none !important;}
  
  @media only screen and (max-width: 767.98px) {
    .aldrich-title {font-size: 20px; line-height: 28px;}
    .aldrich-card {box-shadow: 2.5420451164245605px 2.9051942825317383px 4.720940589904785px 0px #00000040; border-radius: 8px;}
    .prd-cards {border-top-left-radius: 8px; border-bottom-left-radius: 8px; padding: 10px 5px;}
    .prd-cards img {height: 130px; width: auto;}
    .icon-cards {border-top-right-radius: 8px; border-bottom-right-radius: 8px; padding: 10px;}
    .prd-cards h4 {font-size: 14px; line-height: 20px; margin-top: 10px;}
    .prd-cards p {font-size: 10px; line-height: 14px;}
    .first-card, .second-card, .third-card, .fourth-card {gap: 10px;}
    .icon {border: 0.61px solid #FDD5D5; box-shadow: 0px 0.6137223243713379px 0.6137223243713379px 0px #00000040; padding: 8px; height: 40px; width: 40px; margin-bottom: 10px; display: flex; align-items: center; justify-content: center;}
    .icon svg {height: 30px; width: 30px;}    
    .icon-txt {font-size: 10px; line-height: 12px;}
    .slider-info {bottom: -10%;}
    .aldrich-content .slick-dots {bottom: -45%;}
  }
{% endstyle %}

<script>  
  $(document).ready(function () {
    var $slider = $('.aldrich-content');
    var $currentSlide = $('.current-slide');
    var $totalSlides = $('.total-slides');
  
    $slider.slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      arrows: false,
      dots: true,
      autoplay: true,
      autoplaySpeed: 3000
    });
  
    // Update Total Slides Count
    $totalSlides.text($slider.slick('getSlick').slideCount);
  
    // Update Current Slide Number
    $slider.on('beforeChange', function (event, slick, currentSlide, nextSlide) {
      $currentSlide.text(nextSlide + 1);
    });
  });
</script>

{% schema %}
  {
    "name": "Aldrich Works",
    "tag": "section",
    "class": "section",
    "settings": [
      {
        "type": "text",
        "id": "aldrich_works_title",
        "label": "Heading"
      }
    ],
    "blocks": [
      {
        "name": "Aldrich Works",
        "type": "Gallery",
        "settings": [
          {
            "type": "image_picker",
            "id": "aldrich_img",
            "label": "Select Image"
          },
          {
            "type": "text",
            "id": "aldrich_txt",
            "label": "Title"
          },
          {
            "type": "text",
            "id": "aldrich_sub_txt",
            "label": "Sub-Title"
          },
          {
            "type": "html",
            "id": "aldrich_first_icon",
            "label": "Select Icon"
          },
          {
            "type": "html",
            "id": "aldrich_first_text",
            "label": "Text"
          },
          {
            "type": "html",
            "id": "aldrich_second_icon",
            "label": "Select Icon"
          },
          {
            "type": "html",
            "id": "aldrich_second_text",
            "label": "Text"
          },
          {
            "type": "html",
            "id": "aldrich_third_icon",
            "label": "Select Icon"
          },
          {
            "type": "html",
            "id": "aldrich_third_text",
            "label": "Text"
          },
          {
            "type": "html",
            "id": "aldrich_fourth_icon",
            "label": "Select Icon"
          },
          {
            "type": "html",
            "id": "aldrich_fourth_text",
            "label": "Text"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Aldrich Works"
      }
    ]
  }
{% endschema %}