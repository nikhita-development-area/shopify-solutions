<!-- Sections -> image-carousel--container.liquid -->

<div class="container image-carousel--container" page_type="normal">
  <h2 class="text-center font-weight-bold l-0 main-heading" style="color: #939393;">{{ section.settings.heading }}</h2>
  <h2 class="text-center font-weight-bold l-0 main-heading">{{ section.settings.sub_heading }}</h2>
  
  <div class="image-carousel mt-5">
    {% for block in section.blocks %}
      <div class="image-carousel--container-img position-relative mx-2">
        <div>
          {% render 'image',
              class: 'media',
              mobileSrc: block.settings.image_mobile,
              desktopSrc: block.settings.image_desktop
          %}
        </div>
        <div class="position-absolute image-carousel--container-txt">
          <p>{{ block.settings.image_text }}</p>
        </div> 
      </div>
    {% endfor %}
  </div>
</div>

<style>
  .image-carousel--container .image-carousel--container-img {border-radius: 20px;}
   .image-carousel--container-img .image-carousel--container-txt {left: 20px; bottom: 10px; font-size: 32px; font-weight: 600; width: 199px; line-height: 40px;}
  
  @media(max-width: 767.98px) {
    .image-carousel--container .image-carousel--container-img .image-carousel--container-txt {font-size: 20px; width: 159px; line-height: 30px;}
  }
</style>

<script>
  $(document).ready(function() {
    $('.image-carousel').slick({
      autoplay: true,
      autoplaySpeed: 3000,
      slidesToShow: 3,
      slidesToScroll: 1,
      arrows: true,
      responsive: [
        {
          breakpoint: 767,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
            arrows: false,
            centerMode: true,
            centerPadding: '60px',
            dots: true
          }
        }
      ]
    });
  });
</script>

{% schema %}
  {
    "name": "Image Carousel",
    "tag": "section",
    "class": "image-carousel--container",
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Title"
      },
      {
        "type": "text",
        "id": "sub_heading",
        "label": "Sub-Title"
      }
    ],
    "blocks":[
      {
        "name": "Image",
        "type": "custom",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Select Image"
          },
          {
            "type": "text",
            "id": "image_text",
            "label": "Enter Text"
          }
        ]
      }
    ],
    "presets": [{"name": "Image Carousel"}]
  }
{% endschema %}